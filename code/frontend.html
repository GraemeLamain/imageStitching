<!-- Faisal Qureshi with help from ChatGPT-->
<!-- faisal.qureshi@ontariotechu.ca-->

<!-- Edited and Modified by Graeme Lamain - 100873910-->

<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Simple Browser Image Editor</title>
<style>
  :root { font-family: system-ui, sans-serif; }
  body { margin: 0; background:#0f172a; color:#e5e7eb; }
  .toolbar { display:flex; flex-wrap:wrap; gap:.5rem; padding:.75rem; align-items:center; background:#111827; position:sticky; top:0; }
  .btn, input[type="range"], select { height:32px; }
  .btn { background:#1f2937; color:#e5e7eb; border:1px solid #374151; border-radius:8px; padding:0 .7rem; cursor:pointer; }
  .btn:disabled { opacity:.5; cursor:not-allowed; }
  .sep { width:1px; height:28px; background:#374151; margin:0 .25rem; }
  .label { font-size:12px; opacity:.9; margin-right:.25rem; }
  .panel { padding:.5rem .75rem .75rem; background:#0b1220; border-top:1px solid #1f2937; display:grid; grid-template-columns:1fr 1fr; gap:.75rem; }
  .slider { display:flex; align-items:center; gap:.5rem; }
  #stage { height: calc(100vh - 120px); padding:.5rem; display:flex;}
  #wrapper { flex:1; width:50%; height:100%; background:#000; border:1px solid #374151; border-radius:12px; overflow:hidden; position:relative; }
  #canvas { display:block; width:100%; height:100%; touch-action:none; }
  .mode { background:#374151; border-radius:8px; padding:2px; display:inline-flex; }
  .mode .btn { border:none; background:transparent; }
  .mode .btn.active { background:#2563eb; border-radius:6px; }
  .hint { font-size:12px; opacity:.8; }
  #stitch { height: calc(100vh - 120px); padding:.5rem; display:flex; flex-direction: column;}
  #wrapperStitch { flex:1; width:100%; height:100%; background:#000; border:1px solid #374151; border-radius:12px; overflow:hidden; position:relative; }
</style>
</head>
<body>

<div class="toolbar">
  <button class="btn" id="undoPoint">Undo Last Point</button>
  <button class="btn" id="sendToPy">Stitch</button>
  <!-- /ADDED -->

  <div class="sep"></div>
  <button class="btn" id="reset">Reset</button>
  <button class="btn" id="savePng">Download PNG</button>
  <!-- <span class="hint" style="margin-left:.5rem">Wheel = zoom Â· Drag in Pan mode = move</span> -->
</div>

<div id="stage">
  <input type="file" id="upload1" accept="image/*" style="display:none"/>
  <input type="file" id="upload2" accept="image/*" style="display:none"/>
    
  <div id="wrapper">
    <button class="btn" id="loadBtn1">Load Image 1</button>
    <canvas id="canvas1"></canvas>
  </div>
  <div id="wrapper">
    <button class="btn" id="loadBtn2">Load Image 2</button> 
    <canvas id="canvas2"></canvas>
  </div>
</div>

<div id="stitch">
  <h3>Stitched Result</h3>
  <div id="wrapperStitch">
    <canvas id="canvasStitch"></canvas>
  </div>
</div>

<script type="module" src="script.js"></script>

</body>
</html>